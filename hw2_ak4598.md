HW2 by AK4598
================
Aleya Khalifa
2023-10-02

This is an R Markdown file, rendered to github, that describes the
process for problems 1-3. The data used in each problem has already been
loaded into the project directory in the folder `data`.

# Problem 1

This problem uses FiveThiryEight data. We’ll use the data in
pols-month.csv, unemployment.csv, and snp.csv. Our goal is to merge
these into a single data frame using year and month as keys across
datasets.

``` r
pols <- read_csv(file = "data/fivethirtyeight_datasets/pols-month.csv")
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
unemployment <- read_csv(file = "data/fivethirtyeight_datasets/unemployment.csv")
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp <- read_csv(file = "data/fivethirtyeight_datasets/snp.csv")
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Problem 1.1

Clean the data in `pols-month.csv`. Use separate() to break up the
variable `mon` into integer variables `year`, `month`, and `day`;
replace month number with month name; create a `president` variable
taking values `gop` and `dem`, and remove `prez_dem` and `prez_gop`; and
remove the `day` variable.

``` r
pols <- pols %>% 
  separate(mon, into = c("year", "mon", "day"), sep = "-", convert = TRUE) %>%
  mutate(mon = month.abb[mon],
         president = ifelse(prez_dem>0,"dem",
                            ifelse(prez_gop>0,"gop",
                                   NA))) %>%
  select(-prez_dem, -prez_gop, -day)
```

## Problem 1.2

Second, clean the data in `snp.csv` using a similar process to the
above. For consistency across datasets, arrange according to year and
month, and organize so that year and month are the leading columns.

``` r
snp <- snp %>%
  separate(date, into = c("mon", "day", "year"), sep = "/", convert = TRUE) %>% 
  mutate(mon = month.abb[mon],
         year = as.integer(ifelse(year<16,year+2000,year+1900))) %>%
  arrange(year, mon) %>%
  relocate(year, mon) %>%
  select(-day)
```

## Problem 1.3

Third, tidy the `unemployment` data so that it can be merged with the
previous datasets. This process will involve switching from “wide” to
“long” format; ensuring that key variables have the same name; and
ensuring that key variables take the same values.

``` r
unemployment <- unemployment %>%
  pivot_longer(Jan:Dec,
               names_to = "mon",
               values_to = "unemployment") %>%
  mutate(Year = as.integer(Year)) %>%
  janitor::clean_names()
```

## Problem 1.4

Join the datasets by merging `snp` into `pols`, and merging
`unemployment` into the result.

``` r
pols_data <- pols %>%
  left_join(snp, by = c("year", "mon")) %>%
  left_join(unemployment, by = c("year", "mon"))
```

In this problem, we took three datasets and created one long-format
dataset organized by month and year.

The original `pols` dataset had 822 observations (rows) and 9 variables
(columns). We split the date variable into `mon` and `year` to arrange
the dataset. We also created the `president` variable to reflect whether
the president was republican or democrat.

The original `snp` dataset had 787 observations (rows) and 2 variables
(columns). We again split the date variable into `mon` and `year` to
arrange the dataset.

The original `unemployment` dataset had 68 observations (rows) and 13
variables (columns). We reorganized this dataset from wide format to
long format so that months were in one column instead of spread across
columns - now the `mon` variable to match the other datasets.

The `snp` and `unemployment` datasets were merged into the `pols`
dataset to create the `pols_data` dataset. This final dataset includes
the `close` variable and the `unemployment` variable, matched to the
month-year.

# Problem 2

This problem uses Mr. Trash Wheel data.

# Problem 3

This problem uses Alzeihmer’s disease (AD) biomarker data from the MCI
dataset.
